{
  "query": "\n-- Get California agencies with zero or very few protocols\nSELECT \n    c.id,\n    c.name as agency_name,\n    COUNT(p.id) as protocol_count\nFROM counties c\nLEFT JOIN protocolChunks p ON c.id = p.countyId\nWHERE c.state = 'California'\nGROUP BY c.id, c.name\nHAVING protocol_count < 10\nORDER BY protocol_count ASC;\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2XDdWnjTq9wYRT5.root --database VxWDA7dN6oFTU34ptu3qAr --execute \n-- Get California agencies with zero or very few protocols\nSELECT \n    c.id,\n    c.name as agency_name,\n    COUNT(p.id) as protocol_count\nFROM counties c\nLEFT JOIN protocolChunks p ON c.id = p.countyId\nWHERE c.state = 'California'\nGROUP BY c.id, c.name\nHAVING protocol_count < 10\nORDER BY protocol_count ASC;\n",
  "rows": [
    {
      "id": "120018",
      "agency_name": "San Luis Obispo County",
      "protocol_count": "0"
    },
    {
      "id": "150005",
      "agency_name": "Orange County EMS Agency",
      "protocol_count": "0"
    },
    {
      "id": "60402",
      "agency_name": "Bakersfield Fire Department EMS",
      "protocol_count": "0"
    },
    {
      "id": "150001",
      "agency_name": "San Joaquin County EMS Agency",
      "protocol_count": "0"
    },
    {
      "id": "60400",
      "agency_name": "Long Beach Fire Department EMS",
      "protocol_count": "0"
    },
    {
      "id": "120038",
      "agency_name": "Amador County",
      "protocol_count": "0"
    },
    {
      "id": "60401",
      "agency_name": "Oakland Fire Department EMS",
      "protocol_count": "0"
    },
    {
      "id": "120037",
      "agency_name": "Alpine County",
      "protocol_count": "0"
    },
    {
      "id": "150002",
      "agency_name": "Riverside County EMS Agency (REMSA)",
      "protocol_count": "0"
    },
    {
      "id": "150004",
      "agency_name": "San Diego County EMS",
      "protocol_count": "0"
    },
    {
      "id": "120025",
      "agency_name": "Tuolumne County",
      "protocol_count": "0"
    },
    {
      "id": "60392",
      "agency_name": "Sacramento Fire Department/Metro Fire EMS",
      "protocol_count": "0"
    },
    {
      "id": "120027",
      "agency_name": "Yolo County",
      "protocol_count": "0"
    },
    {
      "id": "120008",
      "agency_name": "Merced County",
      "protocol_count": "0"
    },
    {
      "id": "60404",
      "agency_name": "Anaheim Fire Department EMS",
      "protocol_count": "0"
    },
    {
      "id": "120023",
      "agency_name": "Solano County",
      "protocol_count": "0"
    },
    {
      "id": "120002",
      "agency_name": "Contra Costa County",
      "protocol_count": "0"
    },
    {
      "id": "150006",
      "agency_name": "Sacramento County EMS Agency",
      "protocol_count": "0"
    },
    {
      "id": "120040",
      "agency_name": "Mariposa County",
      "protocol_count": "0"
    },
    {
      "id": "120039",
      "agency_name": "Calaveras County",
      "protocol_count": "0"
    },
    {
      "id": "120014",
      "agency_name": "San Benito County",
      "protocol_count": "0"
    },
    {
      "id": "150003",
      "agency_name": "Contra Costa County EMS",
      "protocol_count": "0"
    },
    {
      "id": "120020",
      "agency_name": "Santa Barbara County",
      "protocol_count": "1"
    },
    {
      "id": "120024",
      "agency_name": "Stanislaus County",
      "protocol_count": "1"
    },
    {
      "id": "120019",
      "agency_name": "San Mateo County",
      "protocol_count": "4"
    },
    {
      "id": "120021",
      "agency_name": "Santa Clara County",
      "protocol_count": "6"
    },
    {
      "id": "120009",
      "agency_name": "Monterey County",
      "protocol_count": "7"
    },
    {
      "id": "120041",
      "agency_name": "Del Norte County",
      "protocol_count": "9"
    },
    {
      "id": "120007",
      "agency_name": "Marin County",
      "protocol_count": "9"
    },
    {
      "id": "120042",
      "agency_name": "Humboldt County",
      "protocol_count": "9"
    }
  ],
  "messages": [],
  "stdout": "id\tagency_name\tprotocol_count\n120018\tSan Luis Obispo County\t0\n150005\tOrange County EMS Agency\t0\n60402\tBakersfield Fire Department EMS\t0\n150001\tSan Joaquin County EMS Agency\t0\n60400\tLong Beach Fire Department EMS\t0\n120038\tAmador County\t0\n60401\tOakland Fire Department EMS\t0\n120037\tAlpine County\t0\n150002\tRiverside County EMS Agency (REMSA)\t0\n150004\tSan Diego County EMS\t0\n120025\tTuolumne County\t0\n60392\tSacramento Fire Department/Metro Fire EMS\t0\n120027\tYolo County\t0\n120008\tMerced County\t0\n60404\tAnaheim Fire Department EMS\t0\n120023\tSolano County\t0\n120002\tContra Costa County\t0\n150006\tSacramento County EMS Agency\t0\n120040\tMariposa County\t0\n120039\tCalaveras County\t0\n120014\tSan Benito County\t0\n150003\tContra Costa County EMS\t0\n120020\tSanta Barbara County\t1\n120024\tStanislaus County\t1\n120019\tSan Mateo County\t4\n120021\tSanta Clara County\t6\n120009\tMonterey County\t7\n120041\tDel Norte County\t9\n120007\tMarin County\t9\n120042\tHumboldt County\t9\n",
  "stderr": "",
  "execution_time_ms": 99
}